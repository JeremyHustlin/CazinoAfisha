<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"></meta>
<meta content="width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover" name="viewport"></meta>
<meta content="max-image-preview:large" name="robots"></meta>
<meta content="Elementor 3.18.3; features: e_dom_optimization, e_optimized_assets_loading, additional_custom_breakpoints, block_editor_assets_optimize, e_image_loading_optimization; settings: css_print_method-external, google_font-enabled, font_display-auto" name="generator"></meta>
<title>Joker</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joker Slots</title>

    <link rel="stylesheet" href="fonts/css2">

    <style>
        @font-face {
            font-family: 'MyriadPro-Bold';
            src: url("fonts/MyriadPro-Bold.otf");
            font-weight: bold;
            font-style: normal
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        * {
            -webkit-tap-highlight-color: transparent;
        }

        :focus {
            outline: none;
        }

        * {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        html
        {
            font-size: 0.55vw;
        }

        body,
        html {
            height: 100%;
        }

        body {
            font-family: 'MyriadPro-Bold';
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin: 0;
            line-height: 1;
        }

        p {
            margin: 0;
        }

        a {
            text-decoration: none;
            color: inherit;
            outline: none;
        }

        img,
        video {
            max-width: 100%;
            height: auto;
        }

        img {
            width: 100%;
            display: block;
        }

        button {
            box-shadow: none;
            border: none;
            background: transparent;
        }

        button:focus {
            outline: none;
        }

        @media (orientation: landscape) and (max-aspect-ratio: 71/25) {
            html {
                font-size: 0.53vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 142/55) {
            html {
                font-size: 0.6vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 284/125) {
            html {
                font-size: 0.675vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 71/35) {
            html {
                font-size: 0.765vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 71/40) {
            html {
                font-size: 0.8333333vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 284/165) {
            html {
                font-size: 0.89vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 71/45) {
            html {
                font-size: 0.97vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 284/205) {
            html {
                font-size: 1.1vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 142/115) {
            html {
                font-size: 1.2vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 71/65) {
            html {
                font-size: 1.26vw;
            }
        }
        @media (orientation: landscape) and (max-aspect-ratio: 71/70) {
            html {
                font-size: 1.32vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) {
            html {
                font-size: 2.16vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-width: 550px) {
            .body-wrap {
                background: url("images/m_background_1.jpg") bottom/cover no-repeat;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 1/1) {
            html {
                font-size: 1.07vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 16/17) {
            html {
                font-size: 1.17vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 64/75) {
            html {
                font-size: 1.28vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 4/5) {
            html {
                font-size: 1.37vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 8/11) {
            html {
                font-size: 1.51vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 32/47) {
            html {
                font-size: 1.62vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 32/49) {
            html {
                font-size: 1.69vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 32/53) {
            html {
                font-size: 1.82vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 4/7) {
            html {
                font-size: 1.92vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 16/29) {
            html {
                font-size: 1.98vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 32/59) {
            html {
                font-size: 2vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 16/31) {
            html {
                font-size: 2.1vw;
            }
        }
        @media (max-width: 1024px) and (orientation: portrait) and (max-aspect-ratio: 32/63) {
            html {
                font-size: 2.16vw;
            }
        }

        .body-wrap {
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -moz-box-orient: vertical;
            -moz-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: start;
            -moz-box-pack: start;
            -ms-flex-pack: start;
            justify-content: flex-start;
            min-height: 100%;
            overflow: hidden;
            color: #fff;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            position: relative;
            background: url('images/background.jpg') no-repeat;
            background-color: #000000;
            -moz-background-size: cover;
            background-size: cover;
            background-position: top;
            font-family: 'MyriadPro-Bold';
            font-weight: normal;
        }

        .main {
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -moz-box-orient: vertical;
            -moz-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-align: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            position: relative;
        }

        .header {
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            text-align: center;
            margin: 2.5em auto 0;
            width: 46.25em;
        }

        .game {
            position: relative;
            width: 48.375em;
            /*height: 58.75em;*/
            margin-top: -1.875em;
            font-size: 1rem;
        }

        .game canvas {
            width: 48.375em;
            /*height: 58.75em;*/
            margin: 0 auto;
        }

        .game .ctx__machine {
            z-index: -1;
        }

        .game .ctx__winner {
            position: absolute;
            left: 0;
        }

        .game .game__items {
            display: -webkit-flex;
            display: flex;
            justify-content: center;
            width: 27.5em;
            margin: 0 auto;
            height: 11.913em;
            position: absolute;
            left: 50%;
            top: 13.92em;
            transform: translateX(-49.6%);
            transition: 0.3s ease-in-out;
        }

        .game .game__item {
            display: flex;
            display: -webkit-flex;
            background-size: 100%;
            -webkit-flex: 1;
            flex: 1;
            -webkit-flex-direction: column;
            flex-direction: column;
            background: url('images/symbols_sprite.png') top repeat-y;
            background-size: 8.18em;
        }

        .game .game__item_1 {
            background-position: center -3.27em;
            margin-left: -0.2em;
        }

        .game .game__item_2 {
            background-position: center 2.9em;
        }

        .game .game__item_3 {
            background-position: center 40.09em;
            margin-right: -0.2em;
        }

        .game.spinning .game__item_1 {
            -webkit-animation: moveItem1 5s ease-out forwards;
            animation: moveItem1 5s ease-out forwards;
        }

        .game.spinning .game__item_2 {
            -webkit-animation: moveItem2 5.5s ease-out forwards;
            animation: moveItem2 5.5s ease-out forwards;
        }

        .game.spinning .game__item_3 {
            -webkit-animation: moveItem3 6s ease-out forwards;
            animation: moveItem3 6s ease-out forwards;
        }

        @-webkit-keyframes moveItem1 {
            to {
                background-position-y: 162.36em;
            }
        }

        @keyframes moveItem1 {
            to {
                background-position-y: 162.36em;
            }
        }

        @-webkit-keyframes moveItem2 {
            to {
                background-position-y: -297.72em;
            }
        }

        @keyframes moveItem2 {
            to {
                background-position-y: -297.72em;
            }
        }

        @-webkit-keyframes moveItem3 {
            to {
                background-position-y: 235.96em;
            }
        }

        @keyframes moveItem3 {
            to {
                background-position-y: 235.96em;
            }
        }

        .game.winner .game__items {
            opacity: 0;
            overflow: hidden;
        }

        .game .game__handle {
            display: flex;
            position: absolute;
            top: 0;
            right: 0;
            background: transparent;
            padding: 0;
            cursor: pointer;
            outline: none;
            border: none;
            width: 48.375em;
            /*height: 58.75em;*/
            font-size: 1rem;
            z-index: 2;
        }

        .game .game__handle.disabled {
            pointer-events: none;
            cursor: none;
        }

        .footer__content {
            display: flex;
            justify-content: center;
            margin-bottom: 2em;
            z-index: 2;
        }

        .footer__content a,
        .footer__content span {
            text-align: center;
            text-decoration: none;
            color: #ffffff;
            font-size: 1.05em;
            font-family: 'Roboto', sans-serif;
        }

        .footer__content span {
            display: block;
            margin: 0 0.2em;
        }

        .popup {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.95);
            visibility: hidden;
            -webkit-backface-visibility: hidden;
            -moz-backface-visibility: hidden;
            backface-visibility: hidden;
            transition: all 0.3s ease-out;
            z-index: 999;
        }

        .popup.show {
            visibility: visible;
        }

        .popup .popup__content {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            margin: auto;
            background-image: url('images/popup.png');
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            width: 44.125em;
            height: 64.375em;
            transform: translateY(-100%);
            -webkit-transition: 0.6s;
            transition: 0.6s;
        }

        .popup.popup__answers .popup__content {
            background-image: url('images/popup_quiz.png');
        }

        .popup .popup__main {
            position: absolute;
            left: 50%;
            top: 50%;
            -webkit-transform: translate(-50%, -36%);
            -moz-transform: translate(-50%, -36%);
            -ms-transform: translate(-50%, -36%);
            transform: translate(-50%, -36%);
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -moz-box-orient: vertical;
            -moz-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-align: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            width: 32.125em;
            z-index: 1;
        }

        .popup.popup__answers .popup__main {
            -webkit-transform: translate(-50%, -46%);
            -moz-transform: translate(-50%, -46%);
            -ms-transform: translate(-50%, -46%);
            transform: translate(-50%, -46%);
        }

        .popup.show .popup__content {
            transform: translateY(-50%);
            top: 50%;
        }

        .popup .popup__btn {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            height: 10.5em;
            font-size: 1rem;
            width: 95%;
            cursor: pointer;
        }

        .popup .popup__btn img {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            object-fit: cover;
            -webkit-transition: 0.3s ease-in-out;
            -moz-transition: 0.3s ease-in-out;
            transition: 0.3s ease-in-out;
        }

        .popup .popup__btn:not(:hover) .popup__btn_hover {
            opacity: 0;
            visibility: hidden;
            -webkit-backface-visibility: hidden;
            -moz-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .popup .popup__content h1 {
            font-size: 7.65em;
            line-height: 1;
            color: #ffff00;
            text-align: center;
        }

        .popup .popup__content h2 {
            font-size: 2em;
            color: #ffffff;
            text-align: center;
            text-transform: uppercase;
            margin-bottom: 1em;
        }

        .popup .popup__content h3 {
            color: #ffffff;
            font-size: 2.6em;
            text-shadow: 0 0 2.5em rgba(255, 255, 255, 0.5);
            -webkit-background-clip: text;
            text-align: center;
            text-transform: uppercase;
        }

        .popup .popup__content h4 {
            color: #ffffff;
            font-size: 1.6em;
            line-height: 1.3em;
            margin: 1.25em 0 1.5em;
            text-align: center;
            text-transform: uppercase;
        }

        .popup .popup__content p {
            font-size: 1.575em;
            text-align: center;
            color: #b40a2a;
            text-transform: uppercase;
        }

        .popup .popup__question {
            position: relative;
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .popup .popup__question:nth-child(1) {
            top: 1.1em;
        }

        .popup .popup__question:nth-child(2) {
            top: -1.1em;
        }

        .popup .popup__text_answer {
            margin: 2.188em 0 3.125em;
        }

        .popup .popup__text_answer p {
            color: #ffffff;
            font-size: 1.675em;
            line-height: 1.3em;
        }

        .popup .popup__answers {
            display: flex;
            flex-direction: column;
            grid-row-gap: 0.75em;
            width: 27em;
            margin: 0 auto;
        }

        .popup .popup__answers .btn--answer {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 2.4699em;
            font-size: 1.5em;
            line-height: 1;
            color: #ffff00;
            border-radius: 0.375em;
            background-color: rgb(180, 10, 42);
            text-transform: uppercase;
            text-align: center;
            transition: 0.3s;
            cursor: pointer;
        }

        .popup .popup__answers .btn--answer > span {
            display: flex;
            margin-bottom: -0.25em;
        }

        .popup .popup__answers .btn--answer:hover {
            background: #ffffff;
            color: #800516;
        }

        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            width: 100%;
            height: 100vh;
            background-color: #000000;
            overflow: hidden;
        }

        .loader {
            display: flex;
            width: 11.25em;
            height: 12.5em;
        }

        .loader img {
            max-width: 100%;
        }

        @media(max-width: 767px) {
            .body-wrap {
                background: url('images/m_background_1.jpg'), no-repeat;
                background-position: top;
                background-size: cover;
            }
            .header {
                margin: 4em auto 0;
            }
            .main {
                height: 100vh;
                -webkit-box-pack: start;
                -moz-box-pack: start;
                -ms-flex-pack: start;
                justify-content: start;
            }
            .game {
                margin-top: 3.575em;
            }
            .footer__content {
                position: absolute;
                bottom: 0;
            }
        }
    </style>
</head>
<body>

    <div class="preloader">
        <div class="loader">
            <img src="images/loader_fire_n_roses_joker.gif" alt="">
        </div>
    </div>

    <div class="body-wrap">
        <div class="main">
            <div class="header">
                <img src="images/header_narrow_txt.png" alt="">
            </div>

            <div class="game">
                <div class="game__items">
                    <div class="game__item game__item_1"></div>
                    <div class="game__item game__item_2"></div>
                    <div class="game__item game__item_3"></div>
                </div>
                <canvas id="canvas-machine" class="canvas ctx__machine"></canvas>
                <canvas id="canvas-winner" class="canvas ctx__winner"></canvas>
                <button class="game__handle" type="button"><canvas id="canvas-handle"></canvas></button>
            </div>
            <div class="footer__content">
                <a href="https://www.google.com"  target="_blank">Terms and conditions</a>
                <span>|</span>
                <a href="https://www.google.com"  target="_blank">Privacy policy</a>
            </div>
        </div>
    </div>

                <div class="popup popup__congrats">
                    <div class="popup__content">
                        <div class="popup__main">
                            <h3>CONGRATULATIONS!</h3>
                            <h4>You’ve unlocked a</h4>
                            <h1>$1,000</h1>
                            <h2>WELCOME BONUS</h2>
                            <div class="popup__text">
                                <p>Answer 3 quick questions</p>
                                <p>to claim your prize</p>
                            </div>
                <button class="popup__btn btn__next" type="button">
                    <img class="popup__btn_normal" src="images/button_normal_txt.png" alt="">
                    <img class="popup__btn_hover" src="images/button_hover_txt.png" alt="">
                </button>
            </div>
        </div>
    </div>

    <div class="popup popup__answers">
        <div class="popup__content">
            <div class="popup__main">
                <div class="popup__question" id="question-1">
                    <h3>Question 1</h3>
                    <div class="popup__text_answer">
                        <p>How often</p>
                        <p>do you play casino games?</p>
                    </div>
                    <ul class="popup__answers">
                        <li class="btn--answer btn--answer-1"><span>Daily</span></li>
                        <li class="btn--answer btn--answer-1"><span>Weekly</span></li>
                        <li class="btn--answer btn--answer-1"><span>Not so often</span></li>
                        <li class="btn--answer btn--answer-1"><span>Never played before</span></li>
                    </ul>
                </div>
                <div class="popup__question" id="question-2" style="display: none;">
                    <h3>Question 2</h3>
                    <div class="popup__text_answer">
                        <p>Where do you normally play</p>
                        <p>casino games?</p>
                    </div>
                    <ul class="popup__answers">
                        <li class="btn--answer btn--answer-2"><span>Online casinos</span></li>
                        <li class="btn--answer btn--answer-2"><span>Brick & mortar casinos</span></li>
                        <li class="btn--answer btn--answer-2"><span>Both</span></li>
                    </ul>
                    <div class="popup__circles">
                        <div class="popup__circle"></div>
                        <div class="popup__circle active"></div>
                        <div class="popup__circle"></div>
                    </div>
                </div>
                <div class="popup__question" id="question-3" style="display: none;">
                    <h3>Question 3</h3>
                    <div class="popup__text_answer">
                        <p>What type of games</p>
                        <p>do you play?</p>
                    </div>
                    <ul class="popup__answers">
                        <li class="btn--answer btn--answer-3"><span>Slots</span></li>
                        <li class="btn--answer btn--answer-3"><span>Table games & live dealer</span></li>
                        <li class="btn--answer btn--answer-3"><span>Both</span></li>
                        <li class="btn--answer btn--answer-3"><span>Other</span></li>
                    </ul>
                    <div class="popup__circles">
                        <div class="popup__circle"></div>
                        <div class="popup__circle"></div>
                        <div class="popup__circle active"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="popup popup__winner">
        <div class="popup__content">
            <div class="popup__main">
                <h3>CONGRATULATIONS!</h3>
                <h4>You’ve unlocked <br> an Exclusive Prize!</h4>
                <h1>$1,000</h1>
                <h2>WELCOME BONUS</h2>
                <a class="popup__btn btn__claim" href="https://www.google.com" target="_blank">
                    <img class="popup__btn_normal" src="images/button_normal_claim.png" alt="">
                    <img class="popup__btn_hover" src="images/button_hover_claim.png" alt="">
                </a>
            </div>
        </div>
    </div>

    <script src="js/jquery-3.5.1.js"></script>

    <script>
        const oBody = document.querySelector("body");
        oBody.classList.add('show');

        function deletePreloader() {
            const e = document.querySelector("body"),
                o = document.querySelector(".preloader");

            setTimeout(()=>{
                e.removeChild(o);
                e.classList.remove('show');
            }, 1000);
        }

        deletePreloader();

        const canvasMachine = document.getElementById('canvas-machine');
        const canvasHandle = document.getElementById('canvas-handle');
        const canvasWinner = document.getElementById('canvas-winner');

        const ctxMachine = canvasMachine.getContext('2d');
        const ctxHandle = canvasHandle.getContext('2d');
        const ctxWinner = canvasWinner.getContext('2d');

        const CANVAS_WIDTH_MACHINE = canvasMachine.width = 710;
        const CANVAS_HEIGHT_MACHINE = canvasMachine.height = 860;

        const CANVAS_WIDTH_HANDLE = canvasHandle.width = 710;
        const CANVAS_HEIGHT_HANDLE = canvasHandle.height = 860;

        const CANVAS_WIDTH_WINNER = canvasWinner.width = 710;
        const CANVAS_HEIGHT_WINNER = canvasWinner.height = 860;

        const playerImageMachine = new Image();
        playerImageMachine.src = 'images/slot_lights_sprites.png';

        const playerImageHandle = new Image();
        playerImageHandle.src = 'images/buttons_allstates_sprite.png';

        const playerImageWinner = new Image();
        playerImageWinner.src = 'images/winline_message_sprite.png';

        const spriteWidth = 710;
        const spriteHeight = 860;

        let playerStateMachine = "standby";
        let playerStateHandle = "standby";

        let gameFrameMachine = 0;
        let gameFrameHandle = 0;
        let gameFrameWinner = 0;

        let staggerFramesMachine = 16;
        let staggerFramesHandle = 4;
        let staggerFramesWinner = 18;

        const spriteAnimationsMachine = [];

        const animationStatesMachine = [
            {
                name: 'standby',
                frames: 2
            },
            {
                name: 'stop',
                frames: 1
            },
            {
                name: 'winner',
                frames: 2
            },
        ];

        const spriteAnimationsHandle = [];

        const animationStatesHandle = [
            {
                name: 'standby',
                frames: 12
            },
            {
                name: 'stop',
                frames: 1
            },
            {
                name: 'winner',
                frames: 2
            },
        ];

        animationStatesMachine.forEach((state, index) => {
            let frames = {
                loc: [],
            }
            for (let j = 0; j < state.frames; j++) {
                let positionX = j * spriteWidth;
                let positionY = index * spriteHeight;
                frames.loc.push({x: positionX, y: positionY});
            }
            spriteAnimationsMachine[state.name] = frames;
        });

        animationStatesHandle.forEach((state, index) => {
            let frames = {
                loc: [],
            }
            for (let j = 0; j < state.frames; j++) {
                let positionX = j * spriteWidth;
                let positionY = index * spriteHeight;
                frames.loc.push({x: positionX, y: positionY});
            }
            spriteAnimationsHandle[state.name] = frames;
        });

        function animateMachine() {
            ctxMachine.clearRect(0, 0, CANVAS_WIDTH_MACHINE, CANVAS_HEIGHT_MACHINE);

            let position = Math.floor(gameFrameMachine/staggerFramesMachine) % spriteAnimationsMachine[playerStateMachine].loc.length;
            let frameX = spriteWidth * position;
            let frameY = spriteAnimationsMachine[playerStateMachine].loc[position].y;
            ctxMachine.drawImage(playerImageMachine, frameX, frameY, spriteWidth, spriteHeight, 0, 0, spriteWidth, spriteHeight);
            gameFrameMachine++;

            requestAnimationFrame(animateMachine);
        }

        function animateHandle() {
            ctxHandle.clearRect(0, 0, CANVAS_WIDTH_HANDLE, CANVAS_HEIGHT_HANDLE);

            if(playerStateHandle == "winner") {
                staggerFramesHandle = 17;
            }

            let position = Math.floor(gameFrameHandle/staggerFramesHandle) % spriteAnimationsHandle[playerStateHandle].loc.length;
            let frameX = spriteWidth * position;
            let frameY = spriteAnimationsHandle[playerStateHandle].loc[position].y;
            ctxHandle.drawImage(playerImageHandle, frameX, frameY, spriteWidth, spriteHeight, 0, 0, spriteWidth, spriteHeight);
            gameFrameHandle++;

            requestAnimationFrame(animateHandle);
        }

        function animateWinner() {
            ctxWinner.clearRect(0, 0, CANVAS_WIDTH_WINNER, CANVAS_HEIGHT_WINNER);
            let position = Math.floor(gameFrameWinner/staggerFramesWinner) % 2;
            let frameX = spriteWidth * position;
            let frameY = 0;

            ctxWinner.drawImage(playerImageWinner, frameX, frameY, spriteWidth, spriteHeight, 0, 0, spriteWidth, spriteHeight);

            gameFrameWinner++;
            requestAnimationFrame(animateWinner);
        }

        animateMachine();
        animateHandle();

        const btnSpin = document.querySelector('.game__handle');
        const gameBlock = document.querySelector('.game');
        const popupCongrats = document.querySelector('.popup__congrats');

        btnSpin.addEventListener("click", () => {
            btnSpin.classList.add('disabled');
            // setTimeout(() => {
                playerStateMachine = "stop";
                playerStateHandle = "stop";
                gameBlock.classList.add('spinning');
            // }, 400)

            setTimeout(() => {
                gameBlock.classList.add('winner');
                // playerStateMachine = "winner";
                // playerStateHandle = "winner";
                animateWinner();
                setTimeout(() => {
                    startQuiz();
                }, 2500);
            }, 6400);
        });

        function startQuiz() {
            document.body.className = 'popup__open';
            $(".popup__congrats").addClass("show");

            $(".btn__next").click(function () {
                $(".popup__congrats").removeClass("show");
                $(".popup__answers").addClass("show");

                $(".btn--answer-1").click(function () {
                    $("#question-1").fadeOut(0);
                    $("#question-2").fadeIn(500);
                });

                $(".btn--answer-2").click(function () {
                    $("#question-2").fadeOut(0);
                    $("#question-3").fadeIn(500);
                });

                $(".btn--answer-3").click(function () {
                    $(".popup__answers ").removeClass("show");
                    $(".popup__winner").addClass("show");
                });
            });
        }
    </script>

    <script src="js/currency.js"></script>
    <script src="js/jscripts-public-v15.js"></script>

    <!-- NEW DESIGN -->
    <style>
        #exit-pop-container{display:none;position:fixed;width:100%;height:100%;top:0;left:0;z-index:9999999;background:rgba(0,0,0,.7);font-family: 'MyriadPro-Bold';overflow:hidden}#exit-pop-container .content-exit_pop .closer{position:absolute;right:0;top:-2.3372em;width:2.3372em;height:2.3372em;cursor:pointer}.content-exit_pop{width:38.581em;height:38.581em;background-color:#b71815;position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:flex;justify-content:center;align-items:center}.content-exit_pop .item{text-align:center;display:flex;flex-direction:column}.content-exit_pop .item h1{color:#ffd428;font-size:2.6em;line-height:1.2em;font-weight:600;text-transform:uppercase;margin:0}.content-exit_pop .item a{display:flex;align-items:center;justify-content:center;width:21.64em;height:6.2324em;padding:0 1em;color:#000;background-color:#ffd428;text-decoration:none;margin:0 auto;font-weight:600}.content-exit_pop .item a>span{font-size:3.5em;line-height: 1em;margin-bottom: -0.2em;}.os-apple .content-exit_pop .item a>span{margin-bottom:-.25em}.content-exit_pop .item .img_item{position:relative;display:flex;align-items:center;justify-content:center;margin:3em auto 3.5em;width:34.028em}.content-exit_pop .item .img_item .jackpot-item-new{display:flex;position:absolute;bottom: 1.2em;}.content-exit_pop .item .img_item .jackpot-item-new span {font-size:3.5em;font-weight:700;color:#fff;}.os-apple .content-exit_pop .item .img_item .jackpot-item-new{bottom:.45em}.text-uppercase{text-transform:uppercase}
    </style>

    <div id="exit-pop-container">
        <div class="content-exit_pop">
                <span class="closer">
                    <img src="images/close_x.png" alt="">
                </span>
            <div class="item">
                <h1>Do you want a chance <br> to claim this prize?</h1>
                <div class="img_item">
                    <img src="images/jackpot_.png" alt="">
                    <div class="jackpot-item-new">
                        <span style="display:block; margin-right: 0.05em">$</span>
                        <span class="jNumberValue" jackpot-value="5925776" id="mega_moolah_mega"></span>
                    </div>
                </div>

                <a exit-pop class="text-uppercase" href="https://www.google.com"  target="_blank">
                    <span>yes</span>
                </a>
            </div>
        </div>
    </div>
    <!-- NEW DESIGN END -->

    <!-- REGULAR EXIT POP SCRIPT -->
    <script>
        (function (global) {

            var now = new Date();
            var minutes = 1;
            now.setTime(now.getTime() + (minutes * 60 * 1000));

            var browserAgent = window.navigator.userAgent;
            var samsungBrowser;


            if (browserAgent.toLowerCase().indexOf("samsungbrowser") !== -1) {
                samsungBrowser = true;
            } else {
                samsungBrowser = false;
            }

            function getCookie(cname) {
                var name = cname + "=";
                var decodedCookie = decodeURIComponent(document.cookie);
                var ca = decodedCookie.split(';');
                for (var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }


            global.localStorage.setItem("loadedTimes", 0);
            global.localStorage.setItem("referrerUrl", global.document.referrer);

            document.cookie = "allow-redirect-exit=false; path=/";

            var stateCount = 1;
            var loadedTimes = global.localStorage.getItem("loadedTimes");
            var popUpContainer = document.getElementById("exit-pop-container");
            var closeExitPopElements = document.querySelectorAll(".closer");
            var getDevice = {
                isAndroid: /Android/.test(navigator.userAgent),
                isCordova: !!window.cordova,
                isEdge: /Edge/.test(navigator.userAgent),
                isFirefox: /Firefox/.test(navigator.userAgent),
                isChrome: /Google Inc/.test(navigator.vendor),
                isChromeIOS: /CriOS/.test(navigator.userAgent),
                isChromiumBased: !!window.chrome && !/Edge/.test(navigator.userAgent),
                isIE: /Trident/.test(navigator.userAgent),
                isIOS: /(iPhone|iPad|iPod)/.test(navigator.platform),
                isOpera: /OPR/.test(navigator.userAgent),
                isSafari: /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent),
                isTouchScreen: ('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch,
                isWebComponentsSupported: 'registerElement' in document && 'import' in document.createElement('link') && 'content' in document.createElement('template')
            };

            closeExitPopElements.forEach(function (element) {
                element.addEventListener("click", function () {
                    popUpContainer.style.display = "none";
                });
            });

            if (typeof (global) === "undefined") {
                throw new Error("window is undefined");
            }

            if (getDevice.isChrome == false && getDevice.isChromeIOS == false || (getDevice.isAndroid === true && samsungBrowser === true)) {
                var noBackPlease = function () {
                    if (loadedTimes == 'Hide') {
                        if (typeof (global.localStorage.getItem("referrerUrl")) !== "undefined" && global.localStorage.getItem("referrerUrl") != '') {
                            global.location.href = global.localStorage.getItem("referrerUrl");
                        }
                    } else {
                        global.location.href += "#";
                        global.setTimeout(function () {
                            global.location.href += "!";
                        }, 500);
                    }
                };
                global.onhashchange = function (e) {
                    if (loadedTimes == 'Hide') {
                        if (typeof (global.localStorage.getItem("referrerUrl")) !== "undefined" && global.localStorage.getItem("referrerUrl") != '') {
                            global.location.href = global.localStorage.getItem("referrerUrl");
                        }
                    } else {
                        if (loadedTimes === null || loadedTimes === undefined || loadedTimes === '') loadedTimes = 0;
                        global.localStorage.setItem("loadedTimes", loadedTimes++);
                        if (loadedTimes > 2) {
                            global.localStorage.setItem("loadedTimes", 'Hide');
                            document.body.appendChild(popUpContainer);
                            popUpContainer.style.display = "initial";
                        }

                    }
                };
                noBackPlease();
            }

            if (getDevice.isChrome === true && (getDevice.isAndroid === true && samsungBrowser === false)) {

                var allowExit = getCookie('allow-exit');
                if (allowExit != 'true') {
                    global.history.pushState(null, null, null);
                    global.history.pushState('state 1', null, '#!');
                    global.history.pushState('state 2', null, '#!');
                    global.history.back();
                    global.history.pushState('state 3', null, '#!');

                    setTimeout(function () {
                        global.history.forward();
                        global.history.forward();
                    }, 500);

                }

                global.addEventListener("popstate", function (e) {
                    e.preventDefault();
                    if (global.history.state == 'state 2') {


                        document.cookie = "allow-exit=true; expires=" + now.toUTCString() + "; path=/";
                        document.body.appendChild(popUpContainer);
                        popUpContainer.style.display = "initial";
                        document.cookie = "allow-redirect-exit=true; expires=" + now.toUTCString() + "; path=/";


                    }
                    if (global.history.state == 'state 1') {
                        stateCount++;
                        if (getCookie('allow-redirect-exit') == 'true') {
                            if (typeof (global.localStorage.getItem("referrerUrl")) !== "undefined" && global.localStorage.getItem("referrerUrl") != '') {
                                global.location.href = global.localStorage.getItem("referrerUrl");
                            }
                        }
                    }

                }, false);
            }

            if (getDevice.isChromeIOS === true) {
                //under construction
            }
            var mouseY = 0;
            var topValue = 0;
            global.addEventListener("mouseout", function (e) {
                    if (global.localStorage.getItem("loadedTimes") >= 0 || global.localStorage.getItem("loadedTimes") == null) {
                        mouseY = e.clientY;
                        if (mouseY < topValue) {
                            global.localStorage.setItem("loadedTimes", 'Hide');
                            document.body.appendChild(popUpContainer);
                            popUpContainer.style.display = "initial";
                        }
                    }
                },
                false);
        })(window);
    </script>
    <!-- REGULAR EXIT POP SCRIPT END -->

<script>function changeAllLinks() {var anchors = document.getElementsByTagName("a");
for (var i = 0; i < anchors.length; i++) {anchors[i].href = 'https://www.google.com';
}}
</script>
<script>
var anchorsTarget = document.getElementsByTagName("a");
for (var i = 0; i < anchorsTarget.length; i++) 
{anchorsTarget[i].target='_blank';}
</script>
<style>
.christmas-offers{position:fixed;width:100%;height:100%;bottom:0;left:0;pointer-events:none;z-index:105;transition:background .15s}
.christmas-offers:not(.opened) .christmas-toggle{animation:shakeIt 7s linear infinite}
.christmas-offers.opened{background:rgba(27,53,76,.8)}
.christmas-offers.opened .christmas-toggle{background-image:none}.christmas-offers>*{pointer-events:initial}
.christmas-offers .christmas-dropdown:before
{content:'';position:absolute;width:67px;height:81px;top:-51px;left:50%;margin-left:-30px;
background:url(images/present-open-big.png) no-repeat 0 0/100% 100%}
.christmas-offers .christmas-toggle{position:absolute;width:64px;height:64px;right:15px;bottom:15px;
border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.2);
background:rgba(255,255,255,.9) url(images/present.svg) no-repeat center center/38px 44px;transition:background-image .15s;font-size:0;line-height:0;text-indent:-4000px;cursor:pointer}
.christmas-offers .christmas-toggle:before{transform:rotate(-45deg)}.christmas-offers .christmas-toggle:after{transform:rotate(45deg)}
.christmas-offers .christmas-toggle:after,.christmas-offers .christmas-toggle:before{content:'';position:absolute;width:30px;height:4px;top:50%;left:50%;margin:-2px 0 0 -15px;border-radius:4px;opacity:0;visibility:hidden;background:#a7b8ca;transition:opacity .15s,visibility .15s}
.christmas-offers.opened .christmas-toggle:after,.christmas-offers.opened .christmas-toggle:before{opacity:1;visibility:visible}.christmas-offers *,
.christmas-offers :after,.christmas-offers :before{box-sizing:border-box}@media (max-width:767px){.christmas-offers.is-visible{opacity:1;visibility:visible}}
@media (min-width:1380px){.christmas-offers.opened{background:0 0}
.christmas-offers.opened .christmas-toggle{opacity:0;visibility:hidden}
.christmas-offers .christmas-dropdown{max-width:265px;left:50%;margin-left:450px}
.christmas-offers .christmas-toggle{width:85px;height:85px;right:auto;left:50%;margin-left:610px;border-radius:0;background-color:transparent;background-size:71px 83px;box-shadow:none;transition:.15s}
.christmas-offers .christmas-toggle:before{width:130px;height:156px;margin:-105px 0 0 -53px;border-radius:0;transform:rotate(0);
background:url(images/present-open-big.png) no-repeat 0 0}
.christmas-offers .christmas-toggle:hover{background-image:none}.christmas-offers .christmas-toggle:hover:before{opacity:1;visibility:visible}.christmas-offers .christmas-toggle:after{display:none}}
@-webkit-keyframes shakeIt{0%{transform:rotate(0);transform-origin:50% 100%}93%{transform:rotate(0);transform-origin:50% 100%}94%{transform:rotate(10deg);
transform-origin:50% 100%}95%{transform:rotate(-10deg);transform-origin:50% 100%}96%{transform:rotate(0);transform-origin:50% 100%}97%{transform:rotate(10deg);
transform-origin:50% 100%}98%{transform:rotate(-10deg);transform-origin:50% 100%}100%{transform:rotate(0);transform-origin:50% 100%}}@-o-keyframes shakeIt{0%{transform:rotate(0);
transform-origin:50% 100%}93%{transform:rotate(0);transform-origin:50% 100%}94%{transform:rotate(10deg);transform-origin:50% 100%}95%{transform:rotate(-10deg);
transform-origin:50% 100%}96%{transform:rotate(0);transform-origin:50% 100%}97%{transform:rotate(10deg);transform-origin:50% 100%}98%{transform:rotate(-10deg);
transform-origin:50% 100%}100%{transform:rotate(0);transform-origin:50% 100%}}@-moz-keyframes shakeIt{0%{transform:rotate(0);transform-origin:50% 100%}93%{transform:rotate(0);
transform-origin:50% 100%}94%{transform:rotate(10deg);transform-origin:50% 100%}95%{transform:rotate(-10deg);transform-origin:50% 100%}96%{transform:rotate(0);transform-origin:50% 100%}97%{transform:rotate(10deg);
transform-origin:50% 100%}98%{transform:rotate(-10deg);transform-origin:50% 100%}100%{transform:rotate(0);transform-origin:50% 100%}}@keyframes shakeIt{0%{transform:rotate(0);transform-origin:50% 100%}93%{transform:rotate(0);
transform-origin:50% 100%}94%{transform:rotate(10deg);transform-origin:50% 100%}95%{transform:rotate(-10deg);transform-origin:50% 100%}96%{transform:rotate(0);transform-origin:50% 100%}97%{transform:rotate(10deg);
transform-origin:50% 100%}98%{transform:rotate(-10deg);transform-origin:50% 100%}100%{transform:rotate(0);transform-origin:50% 100%}}
</style>
<title>Gift Box</title>
<body>
    <div class='christmas-offers'>
        <div class='christmas-toggle'>
         </div>
        </div>
        <script>
        let christmasToogleElement = document.querySelector('.christmas-toggle');
                christmasToogleElement.addEventListener('click', () => {
                    var exitElement = document.getElementById('exit-pop-container');
                    document.body.appendChild(exitElement); exitElement.style.display = 'initial';
                });
            </script>
            <script>
            var jNumberValue = document.querySelectorAll(".jMain");jNumberValue.forEach(function(entry) {entry.setAttribute("jackpot-value","");entry.style.display = "initial";});</script><div id="endOfAd">
</html>